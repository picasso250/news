[Hugging Face](/) [Models](/models) [Datasets](/datasets) [Spaces](/spaces) Community [Docs](/docs) [Enterprise](/enterprise) [Pricing](/pricing) [Log In](/login) [Sign Up](/join) [Back to Articles](/blog)
# HTML_TAG_START Transformers.js v4 Preview: Now Available on NPM! HTML_TAG_END
Published February 9, 2026 [Update on GitHub](https://github.com/huggingface/blog/blob/main/transformersjs-v4.md) [Upvote 72](/login?next=%2Fblog%2Ftransformersjs-v4) +66 [Joshua Xenova Follow](/Xenova) [Nico Martin nico-martin Follow](/nico-martin) HTML_TAG_START
[HTML_TAG_START Performance & Runtime Improvements HTML_TAG_END](#performance--runtime-improvements) [HTML_TAG_START Repository Restructuring HTML_TAG_END](#repository-restructuring) [HTML_TAG_START PNPM Workspaces HTML_TAG_END](#pnpm-workspaces) [HTML_TAG_START Modular Class Structure HTML_TAG_END](#modular-class-structure) [HTML_TAG_START Examples Repository HTML_TAG_END](#examples-repository) [HTML_TAG_START Prettier HTML_TAG_END](#prettier) [HTML_TAG_START New Models and Architectures HTML_TAG_END](#new-models-and-architectures) [HTML_TAG_START New Build System HTML_TAG_END](#new-build-system) [HTML_TAG_START Standalone Tokenizers.js Library HTML_TAG_END](#standalone-tokenizersjs-library) [HTML_TAG_START Miscellaneous Improvements HTML_TAG_END](#miscellaneous-improvements) [HTML_TAG_START Acknowledgements HTML_TAG_END](#acknowledgements) We're excited to announce that Transformers.js v4 (preview) is now available on NPM! After nearly a year of development (we started in March 2025 ðŸ¤¯), we're finally ready for you to test it out. Previously, users had to install v4 directly from source via GitHub, but now it's as simple as running a single command!
npm i @huggingface/transformers@next
We'll continue publishing v4 releases under the next tag on NPM until the full release, so expect regular updates!
## Performance & Runtime Improvements
The biggest change is undoubtedly the adoption of a new WebGPU Runtime, completely rewritten in C++. We've worked closely with the ONNX Runtime team to thoroughly test this runtime across our ~200 supported model architectures, as well as many new v4-exclusive architectures.
In addition to better operator support (for performance, accuracy, and coverage), this new WebGPU runtime allows the same transformers.js code to be used across a wide variety of JavaScript environments, including browsers, server-side runtimes, and desktop applications. That's right, you can now run WebGPU-accelerated models directly in Node, Bun, and Deno!
We've proven that it's possible to run state-of-the-art AI models 100% locally in the browser, and now we're focused on performance: making these models run as fast as possible, even in resource-constrained environments. This required completely rethinking our export strategy, especially for large language models. We achieve this by re-implementing new models operation by operation, leveraging specialized ONNX Runtime [Contrib Operators](https://github.com/microsoft/onnxruntime/blob/main/docs/ContribOperators.md) like [com.microsoft.GroupQueryAttention](https://github.com/microsoft/onnxruntime/blob/main/docs/ContribOperators.md#com.microsoft.GroupQueryAttention) , [com.microsoft.MatMulNBits](https://github.com/microsoft/onnxruntime/blob/main/docs/ContribOperators.md#com.microsoft.MatMulNBits) , or [com.microsoft.QMoE](https://github.com/microsoft/onnxruntime/blob/main/docs/ContribOperators.md#com.microsoft.QMoE) to maximize performance.
For example, adopting the [com.microsoft.MultiHeadAttention](https://github.com/microsoft/onnxruntime/blob/main/docs/ContribOperators.md#com.microsoft.MultiHeadAttention) operator, we were able to achieve a ~4x speedup for BERT-based embedding models.
This update enables full offline support by caching WASM files locally in the browser, allowing users to run Transformers.js applications without an internet connection after the initial download.
## Repository Restructuring
Developing a new major version gave us the opportunity to invest in the codebase and tackle long-overdue refactoring efforts.
### PNPM Workspaces
Until now, the GitHub repository served as our npm package. This worked well as long as the repository only exposed a single library. However, looking to the future, we saw the need for various sub-packages that depend heavily on the Transformers.js core while addressing different use cases, like library-specific implementations, or smaller utilities that most users don't need but are essential for some.
That's why we converted the repository to a monorepo using pnpm workspaces. This allows us to ship smaller packages that depend on @huggingface/transformers without the overhead of maintaining separate repositories.
### Modular Class Structure
Another major refactoring effort targeted the ever-growing models.js file. In v3, all available models were defined in a single file spanning over 8,000 lines, becoming increasingly difficult to maintain. For v4, we split this into smaller, focused modules with a clear distinction between utility functions, core logic, and model-specific implementations. This new structure improves readability and makes it much easier to add new models. Developers can now focus on model-specific logic without navigating through thousands of lines of unrelated code.
### Examples Repository
In v3, many Transformers.js example projects lived directly in the main repository. For v4, we've moved them to a [dedicated repository](https://github.com/huggingface/transformers.js-examples) , allowing us to maintain a cleaner codebase focused on the core library. This also makes it easier for users to find and contribute to examples without sifting through the main repository.
### Prettier
We updated the Prettier configuration and reformatted all files in the repository. This ensures consistent formatting throughout the codebase, with all future PRs automatically following the same style. No more debates about formatting... Prettier handles it all, keeping the code clean and readable for everyone.
## New Models and Architectures
Thanks to our new export strategy and ONNX Runtime's expanding support for custom operators, we've been able to add many new models and architectures to Transformers.js v4. These include popular models like GPT-OSS, Chatterbox, GraniteMoeHybrid, LFM2-MoE, HunYuanDenseV1, Apertus, Olmo3, FalconH1, and Youtu-LLM. Many of these required us to implement support for advanced architectural patterns, including Mamba (state-space models), Multi-head Latent Attention (MLA), and Mixture of Experts (MoE). Perhaps most importantly, these models are all compatible with WebGPU, allowing users to run them directly in the browser or server-side JavaScript environments with hardware acceleration. Stay tuned for some exciting demos showcasing these new models in action!
## New Build System
We've migrated our build system from Webpack to esbuild, and the results have been incredible. Build times dropped from 2 seconds to just 200 milliseconds, a 10x improvement that makes development iteration significantly faster. Speed isn't the only benefit, though: bundle sizes also decreased by an average of 10% across all builds. The most notable improvement is in transformers.web.js, our default export, which is now 53% smaller, meaning faster downloads and quicker startup times for users.
## Standalone Tokenizers.js Library
A frequent request from users was to extract the tokenization logic into a separate library, and with v4, that's exactly what we've done. [@huggingface/tokenizers](https://www.npmjs.com/package/@huggingface/tokenizers) is a complete refactor of the tokenization logic, designed to work seamlessly across browsers and server-side runtimes. At just 8.8kB (gzipped) with zero dependencies, it's incredibly lightweight while remaining fully type-safe.
See example code import { Tokenizer } from "@huggingface/tokenizers" ; // Load from Hugging Face Hub const modelId = "HuggingFaceTB/SmolLM3-3B" ; const tokenizerJson = await fetch ( `https://huggingface.co/ ${modelId} /resolve/main/tokenizer.json` ). then ( res => res. json ()); const tokenizerConfig = await fetch ( `https://huggingface.co/ ${modelId} /resolve/main/tokenizer_config.json` ). then ( res => res. json ()); // Create tokenizer const tokenizer = new Tokenizer (tokenizerJson, tokenizerConfig); // Tokenize text const tokens = tokenizer. tokenize ( "Hello World" ); // ['Hello', 'Ä World'] const encoded = tokenizer. encode ( "Hello World" ); // { ids: [9906, 4435], tokens: ['Hello', 'Ä World'], ... }
This separation keeps the core of Transformers.js focused and lean while offering a versatile, standalone tool that any WebML project can use independently.
## Miscellaneous Improvements
We've made several quality-of-life improvements across the library. The type system has been enhanced with dynamic pipeline types that adapt based on inputs, providing better developer experience and type safety.
Logging has been improved to give users more control and clearer feedback during model execution. Additionally, we've added support for larger models exceeding 8B parameters. In our tests, we've been able to run GPT-OSS 20B (q4f16) at ~60 tokens per second on an M4 Pro Max.
## Acknowledgements
We want to extend our heartfelt thanks to everyone who contributed to this major release, especially the ONNX Runtime team for their incredible work on the new WebGPU runtime and their support throughout development, as well as all external contributors and early testers.
HTML_TAG_END
More Articles from our Blog
[announcement transformers.js transformers
## Transformers.js v3: WebGPU Support, New Models & Tasks, and Moreâ€¦
Xenova 82 October 22, 2024 Xenova](/blog/transformersjs-v3) [transformers v5 community Hot
## Transformers v5: Simple model definitions powering the AI ecosystem
302 December 1, 2025 lysandre, et. al.](/blog/transformers-v5)
### Community
[juanpin](/juanpin) [19 days ago](#698b9e8117e4463f5b925f5c)
any examples yet in Spaces?
See translation 1 reply Â· ðŸš€ 1 1 + [SuperPauly](/SuperPauly) [16 days ago](#698f609c450ff984b8a5d912)
Yeah bro, here [https://huggingface.co/collections/webml-community/transformersjs-v4-demos](https://huggingface.co/collections/webml-community/transformersjs-v4-demos)
See translation deleted [10 days ago](#69974dcc98757c71d53d4002) This comment has been hidden Edit Preview Upload images, audio, and videos by dragging in the text input, pasting, or clicking here . Tap or paste here to upload images Comment
Â· [Sign up](/join?next=%2Fblog%2Ftransformersjs-v4) or [log in](/login?next=%2Fblog%2Ftransformersjs-v4) to comment
[Upvote 72](/login?next=%2Fblog%2Ftransformersjs-v4) +60 System theme Company [TOS](/terms-of-service) [Privacy](/privacy) [About](/huggingface) [Careers](https://apply.workable.com/huggingface/) Website [Models](/models) [Datasets](/datasets) [Spaces](/spaces) [Pricing](/pricing) [Docs](/docs) Stripe